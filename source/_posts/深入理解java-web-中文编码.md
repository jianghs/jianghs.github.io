---
title: 深入理解java web-中文编码
date: 2019-12-11 20:19:12
tags: Java
categories: coding
---
## 编码

1. ASCII码：共128个，一个字节的低七位表示。
2. ISO-8859-1：单字节编码，最多表示256个
3. GB2312：双字节编码
4. GBK：为了扩展GB2312，与之兼容。
5. GB18030：可能是单字节、双字节、四字节。
6. UTF-16：始终用双字节表示，java内存的字符存储格式。
7. UTF-8：UTF-8采用了一种变长技术，每个编码区域有不同的字码长度。不同类型的字符可以由1~6个字节组成。

## java中需要编码的场景

1. io操作：StreamEncoder类负责编码，如果没有指定CharSet，会使用本地环境默认编码。

2. 内存操作：String.getBytes(指定编码)、CharSet.forName(指定编码)

## 几种编码格式的比较

1. GB2312与GBK互相兼容，但是GBK范围更大。

2. UTF-16效率更高，字节和字符转换快，适合在本地磁盘和内存使用。但是字节流损坏无法恢复，安全性较差。

3. UTF-8适合在网络传输使用，安全性较好。

## java web中涉及的编解码

看一段文本的大小，看字符本身的长度是没有意义的，即使是一样的字符采用不同的编码最终存储的大小也会不同，所以从字符到字节一定要看编码类型。
